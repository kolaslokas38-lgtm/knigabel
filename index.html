<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–Ω—ñ–≥–∞–ë–µ–ª - –ë–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
        <header class="header">
            <div class="header-top">
                <div class="header-content">
                    <h1>üìö –ö–Ω—ñ–≥–∞–ë–µ–ª</h1>
                    <p>–í–∞—à–∞ —Ü–∏—Ñ—Ä–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞</p>
                </div>
                <!-- –ö–Ω–æ–ø–∫–∞ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
                <button class="profile-btn" onclick="showProfile()">üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</button>
            </div>
            
            <div class="stats" id="stats">
                <div class="stat-item">
                    <span class="stat-number" id="totalBooks">0</span>
                    <span class="stat-label">–í—Å–µ–≥–æ –∫–Ω–∏–≥</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="availableBooks">0</span>
                    <span class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="favoriteBooks">0</span>
                    <span class="stat-label">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º</span>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç - –ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ -->
        <main class="main-content" id="mainContent">
            <section class="search-section">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞–≤—Ç–æ—Ä—É –∏–ª–∏ –∂–∞–Ω—Ä—É..."
                        class="search-input"
                        onkeypress="handleSearchKeypress(event)"
                    >
                    <button onclick="searchBooks()" class="search-btn">üîç –ü–æ–∏—Å–∫</button>
                </div>
                
                <div class="filter-container">
                    <select id="genreFilter" class="genre-filter" onchange="filterByGenre()">
                        <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                    </select>
                    <button onclick="clearFilters()" class="clear-filters-btn">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
            </section>

            <section class="books-section">
                <div class="section-header">
                    <h2 id="sectionTitle">–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</h2>
                    <span class="books-count" id="booksCount">0 –∫–Ω–∏–≥</span>
                </div>
                
                <div class="books-container" id="booksContainer">
                    <!-- –ö–Ω–∏–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞...</p>
                </div>
                
                <div class="empty-state hidden" id="emptyState">
                    <div class="empty-icon">üìö</div>
                    <h3>–ö–Ω–∏–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                    <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä</p>
                    <button onclick="clearFilters()" class="clear-btn">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
                </div>
            </section>
        </main>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <main class="profile-content hidden" id="profileContent">
            <div class="profile-header">
                <button class="back-btn" onclick="showCatalog()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É</button>
                <h2>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
            </div>

            <div class="profile-info">
                <div class="user-card">
                    <div class="user-avatar">üë§</div>
                    <div class="user-details">
                        <h3>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h3>
                        <p><strong>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:</strong> <span id="registrationDate">13.11.2025</span></p>
                        <p><strong>–ù–∞–ø–∏—Å–∞–Ω–æ –æ—Ç–∑—ã–≤–æ–≤:</strong> <span id="reviewsCount">0</span></p>
                    </div>
                </div>
            </div>

            <div class="profile-sections">
                <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <section class="profile-section">
                    <h3>üìñ –ú–æ–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    <div class="bookings-list" id="activeBookings">
                        <div class="no-bookings">
                            <p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</p>
                            <button onclick="showCatalog()" class="find-books-btn">–ù–∞–π—Ç–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∫–Ω–∏–≥–∏</button>
                        </div>
                    </div>
                </section>

                <!-- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ -->
                <section class="profile-section">
                    <h3>‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏</h3>
                    <div class="favorites-list" id="favoritesList">
                        <div class="no-favorites">
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥</p>
                        </div>
                    </div>
                </section>

                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π -->
                <section class="profile-section">
                    <h3>üìö –ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h3>
                    <div class="history-list" id="bookingHistory">
                        <div class="no-history">
                            <p>–ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ø—É—Å—Ç–∞</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –∫–Ω–∏–≥–∏ -->
        <div class="modal hidden" id="bookModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">–î–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏</h3>
                    <button onclick="closeModal()" class="close-btn">√ó</button>
                </div>
                <div class="modal-body" id="modalBody">
                    <!-- –î–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–∑—ã–≤–∞ -->
        <div class="modal hidden" id="reviewModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚úçÔ∏è –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h3>
                    <button onclick="closeReviewModal()" class="close-btn">√ó</button>
                </div>
                <div class="modal-body">
                    <p>–ö–Ω–∏–≥–∞: "<span id="reviewBookTitle"></span>"</p>
                    <textarea 
                        id="reviewText" 
                        placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞—à–∏–º –º–Ω–µ–Ω–∏–µ–º –æ –∫–Ω–∏–≥–µ..." 
                        rows="6"
                        maxlength="500"
                    ></textarea>
                    <div class="review-actions">
                        <button onclick="submitReview()" class="submit-review-btn">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                        <button onclick="closeReviewModal()" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/books-data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>